<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_35) on Mon Jan 28 09:06:55 PST 2013 -->
<TITLE>
AbstractLoadBalancerAwareClient (ribbon-core 0.1.1-SNAPSHOT API)
</TITLE>

<META NAME="date" CONTENT="2013-01-28">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="AbstractLoadBalancerAwareClient (ribbon-core 0.1.1-SNAPSHOT API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../com/netflix/client/ClientException.html" title="class in com.netflix.client"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?com/netflix/client/AbstractLoadBalancerAwareClient.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="AbstractLoadBalancerAwareClient.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.netflix.client</FONT>
<BR>
Class AbstractLoadBalancerAwareClient&lt;S extends <A HREF="../../../com/netflix/client/ClientRequest.html" title="class in com.netflix.client">ClientRequest</A>,T extends <A HREF="../../../com/netflix/client/IResponse.html" title="interface in com.netflix.client">IResponse</A>&gt;</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><B>com.netflix.client.AbstractLoadBalancerAwareClient&lt;S,T&gt;</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../../../com/netflix/client/IClient.html" title="interface in com.netflix.client">IClient</A>&lt;S,T&gt;, <A HREF="../../../com/netflix/client/IClientConfigAware.html" title="interface in com.netflix.client">IClientConfigAware</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public abstract class <B>AbstractLoadBalancerAwareClient&lt;S extends <A HREF="../../../com/netflix/client/ClientRequest.html" title="class in com.netflix.client">ClientRequest</A>,T extends <A HREF="../../../com/netflix/client/IResponse.html" title="interface in com.netflix.client">IResponse</A>&gt;</B><DT>extends java.lang.Object<DT>implements <A HREF="../../../com/netflix/client/IClient.html" title="interface in com.netflix.client">IClient</A>&lt;S,T&gt;, <A HREF="../../../com/netflix/client/IClientConfigAware.html" title="interface in com.netflix.client">IClientConfigAware</A></DL>
</PRE>

<P>
Abstract class that provides the integration of client with load balancers.
<P>

<P>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../com/netflix/client/AbstractLoadBalancerAwareClient.html#AbstractLoadBalancerAwareClient()">AbstractLoadBalancerAwareClient</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../com/netflix/client/AbstractLoadBalancerAwareClient.html#AbstractLoadBalancerAwareClient(com.netflix.client.config.IClientConfig)">AbstractLoadBalancerAwareClient</A></B>(<A HREF="../../../com/netflix/client/config/IClientConfig.html" title="interface in com.netflix.client.config">IClientConfig</A>&nbsp;clientConfig)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Delegate to <A HREF="../../../com/netflix/client/AbstractLoadBalancerAwareClient.html#initWithNiwsConfig(com.netflix.client.config.IClientConfig)"><CODE>initWithNiwsConfig(IClientConfig)</CODE></A></TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../com/netflix/client/AbstractLoadBalancerAwareClient.html" title="type parameter in AbstractLoadBalancerAwareClient">S</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/netflix/client/AbstractLoadBalancerAwareClient.html#computeFinalUriWithLoadBalancer(S)">computeFinalUriWithLoadBalancer</A></B>(<A HREF="../../../com/netflix/client/AbstractLoadBalancerAwareClient.html" title="type parameter in AbstractLoadBalancerAwareClient">S</A>&nbsp;original)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Compute the final URI from a partial URI in the request.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;com.netflix.util.Pair&lt;java.lang.String,java.lang.Integer&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/netflix/client/AbstractLoadBalancerAwareClient.html#deriveHostAndPortFromVipAddress(java.lang.String)">deriveHostAndPortFromVipAddress</A></B>(java.lang.String&nbsp;vipAddress)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Derive the host and port from virtual address if virtual address is indeed contains the actual host 
 and port of the server.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected abstract &nbsp;com.netflix.util.Pair&lt;java.lang.String,java.lang.Integer&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/netflix/client/AbstractLoadBalancerAwareClient.html#deriveSchemeAndPortFromPartialUri(S)">deriveSchemeAndPortFromPartialUri</A></B>(<A HREF="../../../com/netflix/client/AbstractLoadBalancerAwareClient.html" title="type parameter in AbstractLoadBalancerAwareClient">S</A>&nbsp;task)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Derive scheme and port from a partial URI.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../com/netflix/client/AbstractLoadBalancerAwareClient.html" title="type parameter in AbstractLoadBalancerAwareClient">T</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/netflix/client/AbstractLoadBalancerAwareClient.html#executeOnSingleServer(S)">executeOnSingleServer</A></B>(<A HREF="../../../com/netflix/client/AbstractLoadBalancerAwareClient.html" title="type parameter in AbstractLoadBalancerAwareClient">S</A>&nbsp;request)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Execute the request on single server after the final URI is calculated.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../com/netflix/client/AbstractLoadBalancerAwareClient.html" title="type parameter in AbstractLoadBalancerAwareClient">T</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/netflix/client/AbstractLoadBalancerAwareClient.html#executeWithLoadBalancer(S)">executeWithLoadBalancer</A></B>(<A HREF="../../../com/netflix/client/AbstractLoadBalancerAwareClient.html" title="type parameter in AbstractLoadBalancerAwareClient">S</A>&nbsp;request)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method should be used when the caller wants to dispatch the request to a server chosen by
 the load balancer, instead of specifying the server in the request's URI.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/netflix/client/AbstractLoadBalancerAwareClient.html#getClientName()">getClientName</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected abstract &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/netflix/client/AbstractLoadBalancerAwareClient.html#getDefaultPort()">getDefaultPort</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the default port which is protocol specific if port is missing in the request URI.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../com/netflix/loadbalancer/ILoadBalancer.html" title="interface in com.netflix.loadbalancer">ILoadBalancer</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/netflix/client/AbstractLoadBalancerAwareClient.html#getLoadBalancer()">getLoadBalancer</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/netflix/client/AbstractLoadBalancerAwareClient.html#initWithNiwsConfig(com.netflix.client.config.IClientConfig)">initWithNiwsConfig</A></B>(<A HREF="../../../com/netflix/client/config/IClientConfig.html" title="interface in com.netflix.client.config">IClientConfig</A>&nbsp;clientConfig)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set necessary parameters from client configuration and register with Servo monitors.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected abstract &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/netflix/client/AbstractLoadBalancerAwareClient.html#isCircuitBreakerException(java.lang.Exception)">isCircuitBreakerException</A></B>(java.lang.Exception&nbsp;e)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Determine if an exception should contribute to circuit breaker trip.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected abstract &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/netflix/client/AbstractLoadBalancerAwareClient.html#isRetriableException(java.lang.Exception)">isRetriableException</A></B>(java.lang.Exception&nbsp;e)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Determine if operation can be retried if an exception is thrown.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/netflix/client/AbstractLoadBalancerAwareClient.html#noteOpenConnection(com.netflix.loadbalancer.ServerStats, S)">noteOpenConnection</A></B>(<A HREF="../../../com/netflix/loadbalancer/ServerStats.html" title="class in com.netflix.loadbalancer">ServerStats</A>&nbsp;serverStats,
                   <A HREF="../../../com/netflix/client/AbstractLoadBalancerAwareClient.html" title="type parameter in AbstractLoadBalancerAwareClient">S</A>&nbsp;task)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Called just before <A HREF="../../../com/netflix/client/IClient.html#execute(S)"><CODE>IClient.execute(ClientRequest)</CODE></A> call.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/netflix/client/AbstractLoadBalancerAwareClient.html#noteRequestCompletion(com.netflix.loadbalancer.ServerStats, S, com.netflix.client.IResponse, java.lang.Exception, long)">noteRequestCompletion</A></B>(<A HREF="../../../com/netflix/loadbalancer/ServerStats.html" title="class in com.netflix.loadbalancer">ServerStats</A>&nbsp;stats,
                      <A HREF="../../../com/netflix/client/AbstractLoadBalancerAwareClient.html" title="type parameter in AbstractLoadBalancerAwareClient">S</A>&nbsp;task,
                      <A HREF="../../../com/netflix/client/IResponse.html" title="interface in com.netflix.client">IResponse</A>&nbsp;response,
                      java.lang.Exception&nbsp;e,
                      long&nbsp;responseTime)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This is called after a response is received or an exception is thrown from the <A HREF="../../../com/netflix/client/IClient.html#execute(S)"><CODE>IClient.execute(ClientRequest)</CODE></A>
 to update related stats.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/netflix/client/AbstractLoadBalancerAwareClient.html#noteResponseReceived(com.netflix.loadbalancer.ServerStats, T, com.netflix.client.IResponse)">noteResponseReceived</A></B>(<A HREF="../../../com/netflix/loadbalancer/ServerStats.html" title="class in com.netflix.loadbalancer">ServerStats</A>&nbsp;stats,
                     <A HREF="../../../com/netflix/client/AbstractLoadBalancerAwareClient.html" title="type parameter in AbstractLoadBalancerAwareClient">T</A>&nbsp;task,
                     <A HREF="../../../com/netflix/client/IResponse.html" title="interface in com.netflix.client">IResponse</A>&nbsp;response)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method is called after a response (either success or not) is received to update certain stats.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/netflix/client/AbstractLoadBalancerAwareClient.html#setLoadBalancer(com.netflix.loadbalancer.ILoadBalancer)">setLoadBalancer</A></B>(<A HREF="../../../com/netflix/loadbalancer/ILoadBalancer.html" title="interface in com.netflix.loadbalancer">ILoadBalancer</A>&nbsp;lb)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_com.netflix.client.IClient"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from interface com.netflix.client.<A HREF="../../../com/netflix/client/IClient.html" title="interface in com.netflix.client">IClient</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../com/netflix/client/IClient.html#execute(S)">execute</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="AbstractLoadBalancerAwareClient()"><!-- --></A><H3>
AbstractLoadBalancerAwareClient</H3>
<PRE>
public <B>AbstractLoadBalancerAwareClient</B>()</PRE>
<DL>
</DL>
<HR>

<A NAME="AbstractLoadBalancerAwareClient(com.netflix.client.config.IClientConfig)"><!-- --></A><H3>
AbstractLoadBalancerAwareClient</H3>
<PRE>
public <B>AbstractLoadBalancerAwareClient</B>(<A HREF="../../../com/netflix/client/config/IClientConfig.html" title="interface in com.netflix.client.config">IClientConfig</A>&nbsp;clientConfig)</PRE>
<DL>
<DD>Delegate to <A HREF="../../../com/netflix/client/AbstractLoadBalancerAwareClient.html#initWithNiwsConfig(com.netflix.client.config.IClientConfig)"><CODE>initWithNiwsConfig(IClientConfig)</CODE></A>
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>clientConfig</CODE> - </DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="initWithNiwsConfig(com.netflix.client.config.IClientConfig)"><!-- --></A><H3>
initWithNiwsConfig</H3>
<PRE>
public void <B>initWithNiwsConfig</B>(<A HREF="../../../com/netflix/client/config/IClientConfig.html" title="interface in com.netflix.client.config">IClientConfig</A>&nbsp;clientConfig)</PRE>
<DL>
<DD>Set necessary parameters from client configuration and register with Servo monitors.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../com/netflix/client/IClientConfigAware.html#initWithNiwsConfig(com.netflix.client.config.IClientConfig)">initWithNiwsConfig</A></CODE> in interface <CODE><A HREF="../../../com/netflix/client/IClientConfigAware.html" title="interface in com.netflix.client">IClientConfigAware</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getClientName()"><!-- --></A><H3>
getClientName</H3>
<PRE>
public final java.lang.String <B>getClientName</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getLoadBalancer()"><!-- --></A><H3>
getLoadBalancer</H3>
<PRE>
public <A HREF="../../../com/netflix/loadbalancer/ILoadBalancer.html" title="interface in com.netflix.loadbalancer">ILoadBalancer</A> <B>getLoadBalancer</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setLoadBalancer(com.netflix.loadbalancer.ILoadBalancer)"><!-- --></A><H3>
setLoadBalancer</H3>
<PRE>
public void <B>setLoadBalancer</B>(<A HREF="../../../com/netflix/loadbalancer/ILoadBalancer.html" title="interface in com.netflix.loadbalancer">ILoadBalancer</A>&nbsp;lb)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="isCircuitBreakerException(java.lang.Exception)"><!-- --></A><H3>
isCircuitBreakerException</H3>
<PRE>
protected abstract boolean <B>isCircuitBreakerException</B>(java.lang.Exception&nbsp;e)</PRE>
<DL>
<DD>Determine if an exception should contribute to circuit breaker trip. If such exceptions happen consecutively
 on a server, it will be deemed as circuit breaker tripped and enter into a time out when it will be
 skipped by the <A HREF="../../../com/netflix/loadbalancer/AvailabilityFilteringRule.html" title="class in com.netflix.loadbalancer"><CODE>AvailabilityFilteringRule</CODE></A>, which is the default rule for load balancers.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="isRetriableException(java.lang.Exception)"><!-- --></A><H3>
isRetriableException</H3>
<PRE>
protected abstract boolean <B>isRetriableException</B>(java.lang.Exception&nbsp;e)</PRE>
<DL>
<DD>Determine if operation can be retried if an exception is thrown. For example, connect 
 timeout related exceptions
 are typically retriable.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="executeOnSingleServer(com.netflix.client.ClientRequest)"><!-- --></A><A NAME="executeOnSingleServer(S)"><!-- --></A><H3>
executeOnSingleServer</H3>
<PRE>
protected <A HREF="../../../com/netflix/client/AbstractLoadBalancerAwareClient.html" title="type parameter in AbstractLoadBalancerAwareClient">T</A> <B>executeOnSingleServer</B>(<A HREF="../../../com/netflix/client/AbstractLoadBalancerAwareClient.html" title="type parameter in AbstractLoadBalancerAwareClient">S</A>&nbsp;request)
                                             throws <A HREF="../../../com/netflix/client/ClientException.html" title="class in com.netflix.client">ClientException</A></PRE>
<DL>
<DD>Execute the request on single server after the final URI is calculated. This method takes care of
 retries and update server stats.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../com/netflix/client/ClientException.html" title="class in com.netflix.client">ClientException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="noteRequestCompletion(com.netflix.loadbalancer.ServerStats,com.netflix.client.ClientRequest,com.netflix.client.IResponse,java.lang.Exception,long)"><!-- --></A><A NAME="noteRequestCompletion(com.netflix.loadbalancer.ServerStats, S, com.netflix.client.IResponse, java.lang.Exception, long)"><!-- --></A><H3>
noteRequestCompletion</H3>
<PRE>
protected void <B>noteRequestCompletion</B>(<A HREF="../../../com/netflix/loadbalancer/ServerStats.html" title="class in com.netflix.loadbalancer">ServerStats</A>&nbsp;stats,
                                     <A HREF="../../../com/netflix/client/AbstractLoadBalancerAwareClient.html" title="type parameter in AbstractLoadBalancerAwareClient">S</A>&nbsp;task,
                                     <A HREF="../../../com/netflix/client/IResponse.html" title="interface in com.netflix.client">IResponse</A>&nbsp;response,
                                     java.lang.Exception&nbsp;e,
                                     long&nbsp;responseTime)</PRE>
<DL>
<DD>This is called after a response is received or an exception is thrown from the <A HREF="../../../com/netflix/client/IClient.html#execute(S)"><CODE>IClient.execute(ClientRequest)</CODE></A>
 to update related stats.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="noteResponseReceived(com.netflix.loadbalancer.ServerStats,com.netflix.client.IResponse,com.netflix.client.IResponse)"><!-- --></A><A NAME="noteResponseReceived(com.netflix.loadbalancer.ServerStats, T, com.netflix.client.IResponse)"><!-- --></A><H3>
noteResponseReceived</H3>
<PRE>
protected void <B>noteResponseReceived</B>(<A HREF="../../../com/netflix/loadbalancer/ServerStats.html" title="class in com.netflix.loadbalancer">ServerStats</A>&nbsp;stats,
                                    <A HREF="../../../com/netflix/client/AbstractLoadBalancerAwareClient.html" title="type parameter in AbstractLoadBalancerAwareClient">T</A>&nbsp;task,
                                    <A HREF="../../../com/netflix/client/IResponse.html" title="interface in com.netflix.client">IResponse</A>&nbsp;response)</PRE>
<DL>
<DD>This method is called after a response (either success or not) is received to update certain stats.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="noteOpenConnection(com.netflix.loadbalancer.ServerStats,com.netflix.client.ClientRequest)"><!-- --></A><A NAME="noteOpenConnection(com.netflix.loadbalancer.ServerStats, S)"><!-- --></A><H3>
noteOpenConnection</H3>
<PRE>
protected void <B>noteOpenConnection</B>(<A HREF="../../../com/netflix/loadbalancer/ServerStats.html" title="class in com.netflix.loadbalancer">ServerStats</A>&nbsp;serverStats,
                                  <A HREF="../../../com/netflix/client/AbstractLoadBalancerAwareClient.html" title="type parameter in AbstractLoadBalancerAwareClient">S</A>&nbsp;task)</PRE>
<DL>
<DD>Called just before <A HREF="../../../com/netflix/client/IClient.html#execute(S)"><CODE>IClient.execute(ClientRequest)</CODE></A> call.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="executeWithLoadBalancer(com.netflix.client.ClientRequest)"><!-- --></A><A NAME="executeWithLoadBalancer(S)"><!-- --></A><H3>
executeWithLoadBalancer</H3>
<PRE>
public <A HREF="../../../com/netflix/client/AbstractLoadBalancerAwareClient.html" title="type parameter in AbstractLoadBalancerAwareClient">T</A> <B>executeWithLoadBalancer</B>(<A HREF="../../../com/netflix/client/AbstractLoadBalancerAwareClient.html" title="type parameter in AbstractLoadBalancerAwareClient">S</A>&nbsp;request)
                                            throws <A HREF="../../../com/netflix/client/ClientException.html" title="class in com.netflix.client">ClientException</A></PRE>
<DL>
<DD>This method should be used when the caller wants to dispatch the request to a server chosen by
 the load balancer, instead of specifying the server in the request's URI. 
 It calculates the final URI by calling <A HREF="../../../com/netflix/client/AbstractLoadBalancerAwareClient.html#computeFinalUriWithLoadBalancer(S)"><CODE>computeFinalUriWithLoadBalancer(ClientRequest)</CODE></A>
 and then calls <A HREF="../../../com/netflix/client/IClient.html#execute(S)"><CODE>IClient.execute(ClientRequest)</CODE></A>.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>request</CODE> - request to be dispatched to a server chosen by the load balancer. The URI can be a partial
 URI which does not contain the host name or the protocol.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../com/netflix/client/ClientException.html" title="class in com.netflix.client">ClientException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="deriveSchemeAndPortFromPartialUri(com.netflix.client.ClientRequest)"><!-- --></A><A NAME="deriveSchemeAndPortFromPartialUri(S)"><!-- --></A><H3>
deriveSchemeAndPortFromPartialUri</H3>
<PRE>
protected abstract com.netflix.util.Pair&lt;java.lang.String,java.lang.Integer&gt; <B>deriveSchemeAndPortFromPartialUri</B>(<A HREF="../../../com/netflix/client/AbstractLoadBalancerAwareClient.html" title="type parameter in AbstractLoadBalancerAwareClient">S</A>&nbsp;task)</PRE>
<DL>
<DD>Derive scheme and port from a partial URI. For example, for HTTP based client, the URI with 
 only path "/" should return "http" and 80, whereas the URI constructed with scheme "https" and
 path "/" should return
 "https" and 443. This method is called by <A HREF="../../../com/netflix/client/AbstractLoadBalancerAwareClient.html#computeFinalUriWithLoadBalancer(S)"><CODE>computeFinalUriWithLoadBalancer(ClientRequest)</CODE></A>
 to get the complete executable URI.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getDefaultPort()"><!-- --></A><H3>
getDefaultPort</H3>
<PRE>
protected abstract int <B>getDefaultPort</B>()</PRE>
<DL>
<DD>Get the default port which is protocol specific if port is missing in the request URI.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="deriveHostAndPortFromVipAddress(java.lang.String)"><!-- --></A><H3>
deriveHostAndPortFromVipAddress</H3>
<PRE>
protected com.netflix.util.Pair&lt;java.lang.String,java.lang.Integer&gt; <B>deriveHostAndPortFromVipAddress</B>(java.lang.String&nbsp;vipAddress)
                                                                                             throws java.net.URISyntaxException,
                                                                                                    <A HREF="../../../com/netflix/client/ClientException.html" title="class in com.netflix.client">ClientException</A></PRE>
<DL>
<DD>Derive the host and port from virtual address if virtual address is indeed contains the actual host 
 and port of the server. This is the final resort to compute the final URI in <A HREF="../../../com/netflix/client/AbstractLoadBalancerAwareClient.html#computeFinalUriWithLoadBalancer(S)"><CODE>computeFinalUriWithLoadBalancer(ClientRequest)</CODE></A>
 if there is no load balancer available and the request URI is incomplete. Sub classes can override this method
 to be more accurate or throws ClientException if it does not want to support virtual address to be the
 same as physical server address.
 <p>
  The virtual address is used by certain load balancers to filter the servers of the same function 
  to form the server pool.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.net.URISyntaxException</CODE>
<DD><CODE><A HREF="../../../com/netflix/client/ClientException.html" title="class in com.netflix.client">ClientException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="computeFinalUriWithLoadBalancer(com.netflix.client.ClientRequest)"><!-- --></A><A NAME="computeFinalUriWithLoadBalancer(S)"><!-- --></A><H3>
computeFinalUriWithLoadBalancer</H3>
<PRE>
protected <A HREF="../../../com/netflix/client/AbstractLoadBalancerAwareClient.html" title="type parameter in AbstractLoadBalancerAwareClient">S</A> <B>computeFinalUriWithLoadBalancer</B>(<A HREF="../../../com/netflix/client/AbstractLoadBalancerAwareClient.html" title="type parameter in AbstractLoadBalancerAwareClient">S</A>&nbsp;original)
                                                           throws <A HREF="../../../com/netflix/client/ClientException.html" title="class in com.netflix.client">ClientException</A></PRE>
<DL>
<DD>Compute the final URI from a partial URI in the request. The following steps are performed:
 
 <li> if host is missing and there is a load balancer, get the host/port from server chosen from load balancer
 <li> if host is missing and there is no load balancer, try to derive host/port from virtual address set with the client
 <li> if host is present and the authority part of the URI is a virtual address set for the client, 
 and there is a load balancer, get the host/port from server chosen from load balancer
 <li> if host is present but none of the above applies, interpret the host as the actual physical address
 <li> if host is missing but none of the above applies, throws ClientException
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>original</CODE> - Original URI passed from caller
<DT><B>Returns:</B><DD>new request with the final URI
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../com/netflix/client/ClientException.html" title="class in com.netflix.client">ClientException</A></CODE></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../com/netflix/client/ClientException.html" title="class in com.netflix.client"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?com/netflix/client/AbstractLoadBalancerAwareClient.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="AbstractLoadBalancerAwareClient.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
